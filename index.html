<!DOCTYPE html>

<!-- saved from url=(0052)https://cestlaviesisyphus.github.io/Bedroom-Planner/ -->
<html lang="en"><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Bedroom Layout PlannerÂ â€“ v12.2.1</title>
<style>
    /* â€”â€”â€” Layout & basic UI â€”â€”â€” */
    *{box-sizing:border-box}
    body{font-family:system-ui,sans-serif;display:flex;gap:1.5rem;padding:1rem;background:#f8fafc}
    canvas{border-radius:.5rem;box-shadow:0 2px 8px rgba(0,0,0,.1);touch-action:none;user-select:none}
    #panel{width:260px;display:flex;flex-direction:column;gap:1rem}
    h2{font-size:1.1rem;margin:0;font-weight:600;color:#334155}
    ul{list-style:none;margin:0;padding:0;max-height:260px;overflow:auto;border:1px solid #e2e8f0;border-radius:.5rem}
    li{padding:.35rem .5rem;cursor:pointer;border-bottom:1px solid #e2e8f0;display:flex;flex-direction:column;gap:.1rem}
    li:last-child{border-bottom:none}
    li.active{background:#e0f2fe}
    .row{display:flex;align-items:center;gap:.5rem}
    .swatch{width:16px;height:16px;border-radius:3px;border:1px solid #cbd5e1}
    .dim{font-size:.7rem;color:#64748b;margin-left:1.5rem}
    label{display:flex;flex-direction:column;font-size:.8rem;color:#475569;gap:.25rem}
    input,button{font:inherit;padding:.25rem .5rem;border:1px solid #cbd5e1;border-radius:.35rem}
    input[type="color"]{padding:0;border:none;width:32px;height:32px}
    button{cursor:pointer;background:#e2e8f0;transition:.15s}
    button:hover{background:#cbd5e1}
    button:active{background:#94a3b8;color:#fff}
    #edit{display:none;flex-direction:column;gap:.5rem;border:1px solid #e2e8f0;border-radius:.5rem;padding:.75rem}
    #spaceInfo{font-size:.85rem;color:#0f172a;border:1px solid #e2e8f0;border-radius:.5rem;padding:.5rem;background:#f1f5f9}
    /* layerâ€‘order arrows */
    .arrow{margin-left:auto;padding:0 4px;font-size:.8rem;background:none;border:none;cursor:pointer;color:#475569}
    .arrow:hover{color:#1e293b}
    .arrow:disabled{opacity:.3;cursor:default}
  </style>
<style>
#printable-inventory {
  font-family: sans-serif;
}
#printable-inventory table {
  width: 100%;
  border-collapse: collapse;
}
#printable-inventory th, #printable-inventory td {
  border: 1px solid #ccc;
  padding: 4px;
  font-size: 12px;
}
#printable-inventory th {
  background: #f1f5f9;
}
</style></head>
<body>
<!-- â”€â”€ Main column (canvas & global buttons) â”€â”€ -->
<div style="display:flex;flex-direction:column;align-items:center;gap:.75rem">
<h1 style="font-size:1.25rem;margin:0;font-weight:600">Bedroom Layout PlannerÂ v12.2.1<br/>(12Â Ã—Â 10Â ft roomÂ â€¢ 45Â Ã—Â 24Â in closet)</h1>
<canvas height="720" id="stage" width="720"></canvas>
<div style="display:flex;gap:.75rem">
<button id="savePng">Save PNG</button>
<button id="saveLayout">Save Layout</button>
<button id="loadLayout">Load Layout</button>
<input accept="application/json" id="fileInput" style="display:none" type="file"/>
</div>
</div>
<!-- â”€â”€ Side panel â”€â”€ -->
<div style="display:flex; gap:1rem; align-items:flex-start"><div style="display:flex;gap:1.5rem;align-items:flex-start"><div id="panel">
<h2>Objects</h2>
<fieldset style="border:1px solid #cbd5e1; padding:.5rem; border-radius:.5rem; display:flex; flex-direction:column; gap:.35rem">
<legend style="font-size:.85rem; color:#0f172a; font-weight:600">Measurement Tools</legend>
<label style="display:flex;align-items:center;gap:.5rem;font-size:.85rem;color:#0f172a">
<input id="measureToggle" type="checkbox"/> Use Measurement Tool
  </label>
<small style="margin-left:1.5rem; font-size:.75rem; color:#475569">
    Click two points to measure distance in inches &amp; feet.
  </small>
<label style="display:flex;align-items:center;gap:.5rem;font-size:.85rem;color:#0f172a">
<input id="walkwayToggle" type="checkbox"/> Enable Walkway Validator
  </label>
<label style="font-size:.8rem;color:#475569;display:flex;align-items:center;gap:.5rem">
    Min Walkway Width (in): <input id="walkwayMin" style="width:60px" type="number" value="24"/>
</label>
<label style="display:flex;align-items:center;gap:.5rem;font-size:.8rem;color:#475569">
<input id="walkwayLiveToggle" type="checkbox"/> Show Walkway Issues While Dragging
  </label><small style="margin-left:1.5rem; font-size:.75rem; color:#64748b">Walkway Validator must be enabled</small>
</fieldset>
<ul id="objList"><li class=""><div class="row"><span class="swatch" style="background: rgb(176, 196, 222);"></span>TwinÂ XLÂ Bed<button class="arrow" disabled="">â†‘</button><button class="arrow">â†“</button></div><span class="dim">82Ã—40â€³</span></li><li class=""><div class="row"><span class="swatch" style="background: rgb(222, 184, 135);"></span>Nightstand 1<button class="arrow">â†‘</button><button class="arrow">â†“</button></div><span class="dim">16Ã—22â€³</span></li><li class=""><div class="row"><span class="swatch" style="background: rgb(255, 228, 181);"></span>Long Dresser<button class="arrow">â†‘</button><button class="arrow">â†“</button></div><span class="dim">20Ã—70â€³</span></li><li class=""><div class="row"><span class="swatch" style="background: rgb(167, 243, 208);"></span>ComputerÂ Chair<button class="arrow">â†‘</button><button class="arrow">â†“</button></div><span class="dim">27Ã—27â€³</span></li><li class=""><div class="row"><span class="swatch" style="background: rgb(119, 113, 95);"></span>ComputerÂ Desk<button class="arrow">â†‘</button><button class="arrow">â†“</button></div><span class="dim">46Ã—22â€³</span></li><li class=""><div class="row"><span class="swatch" style="background: rgb(97, 187, 194);"></span>StandÂ UpÂ Dresser<button class="arrow">â†‘</button><button class="arrow">â†“</button></div><span class="dim">32.50Ã—19.50â€³</span></li><li class=""><div class="row"><span class="swatch" style="background: rgb(167, 243, 208);"></span>Bookshelf<button class="arrow">â†‘</button><button class="arrow">â†“</button></div><span class="dim">11.50Ã—30â€³</span></li><li class=""><div class="row"><span class="swatch" style="background: rgb(167, 243, 208);"></span>Old Night<button class="arrow">â†‘</button><button class="arrow">â†“</button></div><span class="dim">16Ã—29â€³</span></li><li class=""><div class="row"><span class="swatch" style="background: rgb(167, 243, 208);"></span>Black Cube<button class="arrow">â†‘</button><button class="arrow">â†“</button></div><span class="dim">12Ã—16â€³</span></li><li class=""><div class="row"><span class="swatch" style="background: rgb(222, 184, 135);"></span>Nightstand 2<button class="arrow">â†‘</button><button class="arrow" disabled="">â†“</button></div><span class="dim">22Ã—16â€³</span></li></ul>
<button id="addObj">âž•Â Add Object</button>
<fieldset style="border:1px solid #cbd5e1; padding:.5rem; border-radius:.5rem; display:flex; flex-direction:column; gap:.35rem">
<legend style="font-size:.85rem; color:#0f172a; font-weight:600">Object Tools</legend>
<label style="font-size:.85rem;color:#0f172a;display:flex;align-items:center;gap:.5rem">
<input checked="" id="gapToggle" type="checkbox"/> Show Gaps Between Objects
</label><label style="font-size:.85rem;color:#0f172a;display:flex;align-items:center;gap:.5rem">
<input checked="" id="noteToggle" type="checkbox"/> Show Object Notes
</label></fieldset>
<div id="spaceInfo">Free space: 59.8Â ftÂ²Â  (8604Â inÂ²)</div>
<button id="clearSavedLayout" style="margin-top:.5rem; padding:.5rem; background:#ef4444; color:white; border:none; border-radius:4px; font-size:.85rem; cursor:pointer">Clear Saved Layout</button><div style="margin-top:.75rem; display:flex; gap:.5rem; padding:.5rem; background:#f1f5f9; border:1px solid #cbd5e1; border-radius:.5rem;"><button id="exportInventory" style="margin-top:.75rem; padding:.5rem; background:#2563eb; color:white; border:none; border-radius:4px; font-size:.85rem; cursor:pointer">Generate Inventory Sheet</button><button disabled="true" id="downloadInventory" style="margin-left:.5rem; padding:.5rem; background:#0f766e; color:white; border:none; border-radius:4px; font-size:.85rem; cursor:pointer">Open Inventory in New Tab</button></div></div><div style="display:flex;flex-direction:column;gap:1rem;align-items:flex-start"><div id="edit" style="display:none; flex-direction:column; gap:.5rem; border:1px solid #e2e8f0; border-radius:.5rem; padding:.75rem; min-width:220px">
<h2 style="font-size:1rem">Edit Selected</h2>
<label>Name <input id="nameInp"/></label>
<label>WidthÂ (in) <input id="wInp" step="0.25" type="number"/></label>
<label>HeightÂ (in) <input id="hInp" step="0.25" type="number"/></label>
<label>Color <input id="colInp" type="color"/></label>
<label>TransparencyÂ (Î±) <input id="alphaInp" max="1" min="0" step="0.05" type="range"/></label>
<button id="delObj" style="background:#fecaca">ðŸ—‘Â Delete</button>
<label>Notes <input id="noteInp" type="text"/></label>
<div style="display:flex;flex-wrap:wrap;gap:4px"><span style="font-size:.8rem;color:#475569">Quick Colors:</span><button class="presetColor" data-color="#9ca3af" style="background:#9ca3af;width:20px;height:20px;border:1px solid #ccc;border-radius:4px" title="Metal/Neutral Gray" type="button"></button><button class="presetColor" data-color="#d97706" style="background:#d97706;width:20px;height:20px;border:1px solid #ccc;border-radius:4px" title="Wood" type="button"></button><button class="presetColor" data-color="#2563eb" style="background:#2563eb;width:20px;height:20px;border:1px solid #ccc;border-radius:4px" title="Plastic/Blue" type="button"></button><button class="presetColor" data-color="#16a34a" style="background:#16a34a;width:20px;height:20px;border:1px solid #ccc;border-radius:4px" title="Green/Fabric" type="button"></button><button class="presetColor" data-color="#dc2626" style="background:#dc2626;width:20px;height:20px;border:1px solid #ccc;border-radius:4px" title="Important/Alert" type="button"></button><button class="presetColor" data-color="#facc15" style="background:#facc15;width:20px;height:20px;border:1px solid #ccc;border-radius:4px" title="Caution/Label" type="button"></button><button class="presetColor" data-color="#9333ea" style="background:#9333ea;width:20px;height:20px;border:1px solid #ccc;border-radius:4px" title="Electronics" type="button"></button><button class="presetColor" data-color="#f59e0b" style="background:#f59e0b;width:20px;height:20px;border:1px solid #ccc;border-radius:4px" title="Cardboard/Boxes" type="button"></button></div>
<label style="font-size:.85rem;color:#0f172a;display:flex;align-items:center;gap:.5rem">
<input checked="" id="rulerToggle" type="checkbox"/> Show Ruler/Grid Labels
</label>
</div><div id="inventorySheet" style="margin-top:1rem; display:none; max-height:180px; overflow:auto; border:1px solid #e2e8f0; border-radius:4px; padding:.25rem;"></div></div></div></div>
<script>
document.getElementById("downloadInventory").addEventListener("click", () => {
  const w = window.open("", "_blank");
  const rows = items.map(it => {
    const colorCell = `<td><div style='background:${it.color};padding:4px;border-radius:3px;text-align:center;'>${it.color}</div></td>`;
    return `
      <tr>
        <td>${it.label || ""}</td>
        <td>${inch(it.w).toFixed(1)}</td>
        <td>${inch(it.h).toFixed(1)}</td>
        ${colorCell}
        <td>${it.note || ""}</td>
      </tr>
    `;
  }).join("");

  const html = `
    <html>
    <head>
      <title>Inventory Sheet</title>
      <style>
        body { font-family: sans-serif; padding: 2rem; }
        table { border-collapse: collapse; width: 100%; font-size: 12px; }
        th, td { border: 1px solid #ccc; padding: 4px; }
        th { background: #f1f5f9; }
        h2 { margin-bottom: 1rem; }
      </style>
    </head>
    <body>
      <h2>Inventory Sheet</h2>
      <table>
        <thead>
          <tr>
            <th>Label</th><th>Width (in)</th><th>Height (in)</th><th>Color</th><th>Notes</th>
          </tr>
        </thead>
        <tbody>${rows}</tbody>
      </table>
    </body>
    </html>
  `;

  w.document.write(html);
  w.document.close();
});


document.getElementById("downloadInventory").addEventListener("click", () => {
  const w = window.open("", "_blank");
  const rows = items.map(it => {
    const colorCell = `<td><div style='background:${it.color};padding:4px;border-radius:3px;text-align:center;'>${it.color}</div></td>`;
    return `
      <tr>
        <td>${it.label || ""}</td>
        <td>${inch(it.w).toFixed(1)}</td>
        <td>${inch(it.h).toFixed(1)}</td>
        ${colorCell}
        <td>${it.note || ""}</td>
      </tr>
    `;
  }).join("");

  const html = `
    <html>
    <head>
      <title>Inventory Sheet</title>
      <style>
        body { font-family: sans-serif; padding: 2rem; }
        table { border-collapse: collapse; width: 100%; font-size: 12px; }
        th, td { border: 1px solid #ccc; padding: 4px; }
        th { background: #f1f5f9; }
        h2 { margin-bottom: 1rem; }
      </style>
    </head>
    <body>
      <h2>Inventory Sheet</h2>
      <table>
        <thead>
          <tr>
            <th>Label</th><th>Width (in)</th><th>Height (in)</th><th>Color</th><th>Notes</th>
          </tr>
        </thead>
        <tbody>${rows}</tbody>
      </table>
    </body>
    </html>
  `;

  w.document.write(html);
  w.document.close();
});
</script>
<div id="printable-inventory" style="display:none; padding:1rem;"></div></body></html>
